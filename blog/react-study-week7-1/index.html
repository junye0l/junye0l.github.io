<!doctype html>
<html lang="ko" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">리액트 공식문서 스터디 7주차 - 1 | Junyeol Blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://junyeol.blog/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://junyeol.blog/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://junyeol.blog/blog/react-study-week7-1"><meta data-rh="true" property="og:locale" content="ko"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="리액트 공식문서 스터디 7주차 - 1 | Junyeol Blog"><meta data-rh="true" name="description" content="Ref와 State"><meta data-rh="true" property="og:description" content="Ref와 State"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-12-16T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/junye0l"><link data-rh="true" rel="icon" href="/img/main-icon.svg"><link data-rh="true" rel="canonical" href="https://junyeol.blog/blog/react-study-week7-1"><link data-rh="true" rel="alternate" href="https://junyeol.blog/blog/react-study-week7-1" hreflang="ko"><link data-rh="true" rel="alternate" href="https://junyeol.blog/blog/react-study-week7-1" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://junyeol.blog/blog/react-study-week7-1","mainEntityOfPage":"https://junyeol.blog/blog/react-study-week7-1","url":"https://junyeol.blog/blog/react-study-week7-1","headline":"리액트 공식문서 스터디 7주차 - 1","name":"리액트 공식문서 스터디 7주차 - 1","description":"Ref와 State","datePublished":"2025-12-16T00:00:00.000Z","author":{"@type":"Person","name":"준열","description":"프론트엔드 개발자","url":"https://github.com/junye0l","image":"https://github.com/junye0l.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://junyeol.blog/blog","name":"Junyeol"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Junyeol Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Junyeol Blog Atom Feed">




<meta name="keywords" content="개발, 코딩테스트, JavaScript, React, 블로그">
<meta name="author" content="Junyeol">
<meta name="description" content="개발 지식과 코딩테스트 문제 풀이를 기록하는 개발 블로그"><link rel="stylesheet" href="/assets/css/styles.4a42fe1d.css">
<script src="/assets/js/runtime~main.74dfc417.js" defer="defer"></script>
<script src="/assets/js/main.0bc9b3d5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="https://github.com/junye0l.png"><div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="메인" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="사이드바 펼치거나 접기" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Junyeol</b></a><a class="navbar__item navbar__link" href="/coding-test/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/projects">Projects</a><a class="navbar__item navbar__link" href="/blog/tags">Tags</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="최근 블로그 문서 둘러보기"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/minimum-multiplication-sum">[프로그래머스] 최솟값 만들기</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/react-study-week7-1">리액트 공식문서 스터디 7주차 - 1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/react-study-week6-2">리액트 공식문서 스터디 6주차 - 2</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/badge-generator">GitHub README 꾸미기 한 번에 끝내보자!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/react-study-week6-1">리액트 공식문서 스터디 6주차 - 1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/codeit-bootcamp-retrospect">끝이 아닌 시작으로</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/high-project-remind">심화 프로젝트 회고</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/react-study-week5-1">리액트 공식문서 스터디 5주차 - 1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/react-study-week4-1">리액트 공식문서 스터디 4주차 - 1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/react-study-week3-2">리액트 공식문서 스터디 3주차 - 2</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/react-study-week3-1">리액트 공식문서 스터디 3주차 - 1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/react-study-week2-2">리액트 공식문서 스터디 2주차 - 2</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/react-study-week2-1">리액트 공식문서 스터디 2주차 - 1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/react-study-week1-2">리액트 공식문서 스터디 1주차 - 2</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/react-study-week1-1">리액트 공식문서 스터디 1주차 - 1</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/middle-project-remind">중급 프로젝트 회고</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/core-javascript-week10">클래스</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/core-javascript-week9">프로토타입</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/core-javascript-week8">클로저</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-divisort">[프로그래머스] 약수의 개수와 덧셈</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-watermelon">[프로그래머스] 수박수박수박수박수박수?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-inner-products">[프로그래머스] 내적</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-min-number">[프로그래머스] 제일 작은 수 제거하기</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-center-char">[프로그래머스] 가운데 글자 가져오기</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-phone-number">[프로그래머스] 핸드폰 번호 가리기</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-collatz">[프로그래머스] 콜라츠 추측</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-seoul-kim">[프로그래머스] 서울에서 김서방 찾기</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/core-javascript-week7">콜백함수</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-divisible-array">[프로그래머스] 나누어 떨어지는 숫자 배열</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-missing-numbers">[프로그래머스] 없는 숫자 더하기</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-harshad-number">[프로그래머스] 하샤드 수</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-plus-minus">[프로그래머스] 음양 더하기</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-count-py">[프로그래머스] 문자열 내 p와 y의 개수</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-sqrt-check">[프로그래머스] 정수 제곱근 판별</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-descending-digits">[프로그래머스] 정수 내림차순으로 배치하기</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-sum-between-integers">[프로그래머스] 두 정수 사이의 합</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-string-to-integer">[프로그래머스] 문자열을 정수로 바꾸기</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-sum-of-divisors">[프로그래머스] 약수의 합</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-arithmetic-sequence">[프로그래머스] x만큼 간격이 있는 n개의 숫자</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-find-remainder-one">[프로그래머스] 나머지가 1이 되는 수 찾기</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-calculate-average">[프로그래머스] 평균 구하기</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/programmers-even-odd">[프로그래머스] 짝수와 홀수</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/core-javascript-week6">call, apply, bind, 화살표 함수</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/core-javascript-week5">this</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/core-javascript-week4-2">스코프와 클로저</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/core-javascript-week4-1">함수 선언문과 함수 표현식</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/core-javascript-week3">실행 컨텍스트</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/core-javascript-week2">실행 컨텍스트와 불변 객체</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/core-javascript-week1">데이터 타입</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">리액트 공식문서 스터디 7주차 - 1</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-12-16T00:00:00.000Z">2025년 12월 16일</time> · <!-- -->약 9분</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/junye0l" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/junye0l.png" alt="준열"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/junye0l" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">준열</span></a></div><small class="authorTitle_nd0D" title="프론트엔드 개발자">프론트엔드 개발자</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><a href="https://react.dev/learn/referencing-values-with-refs"><h1>Referencing Values with Refs</h1></a>
<ul>
<li>컴포넌트가 렌더링에는 필요 없지만 내부적으로 사용해야 하는 값을 저장해야 할 때</li>
<li>그리고 그 값이 바뀌어도 리렌더링을 일으키고 싶지 않을 때 ref를 사용한다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ref-사용방법">Ref 사용방법<a href="#ref-사용방법" class="hash-link" aria-label="Ref 사용방법에 대한 직접 링크" title="Ref 사용방법에 대한 직접 링크">​</a></h2>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> useRef </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ref </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ul>
<li><strong>useRef</strong> Hook을 React에서 import한 뒤, 컴포넌트 안에서 <strong>useRef(초기값)</strong> 형태로 호출해서 <strong>ref 객체</strong> 를 만든다.</li>
<li><strong>useRef(0)</strong> 처럼 사용하면 <strong><code>{ current: 0 }</code></strong> 형태의 객체가 반환되고, <strong>current</strong> 프로퍼티에 초기값이 들어 있다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="refcurrent-특징">ref.current 특징<a href="#refcurrent-특징" class="hash-link" aria-label="ref.current 특징에 대한 직접 링크" title="ref.current 특징에 대한 직접 링크">​</a></h2>
<ul>
<li>ref가 갖고있는 current 값은 읽고 쓸 수 있도록  intentionally mutable 하게 설계되어있다.</li>
<li>또한, ref는 React가 추적하지 않는다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="예시코드를-통한-state와-ref-사용방식">예시코드를 통한 state와 ref 사용방식<a href="#예시코드를-통한-state와-ref-사용방식" class="hash-link" aria-label="예시코드를 통한 state와 ref 사용방식에 대한 직접 링크" title="예시코드를 통한 state와 ref 사용방식에 대한 직접 링크">​</a></h2>
<ul>
<li>
<p>예시코드를 통해 state와 ref의 사용방식을 알아보자.</p>
</li>
<li>
<p>사용자가 버튼을 클릭했을 때 시작과 정지를 하는 스톱워치를 만든다고 생각해보자.</p>
</li>
<li>
<p>그렇다면, 첫 번째로 사용자가 Start 버튼을 클릭했을 때, 시간이 얼마나 지났는지 보여주게 하려면 <strong>Start 버튼을 누른 시각</strong> 과 <strong>현재 시각</strong> 을 알고 있어야한다.</p>
</li>
<li>
<p>이러한 정보들은 화면에 렌더링되어야하는 요소이므로 아래와 같이 state로 관리하게 된다.</p>
</li>
</ul>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">startTime</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setStartTime</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Start 버튼을 누른 시각</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">now</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setNow</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 현재 시각</span><br></span></code></pre></div></div>
<ul>
<li>그리고 Start 버튼을 클릭했을 때 이 state들을 세팅하고, 일정주기로 now를 업데이트하는 handler를 만든다.</li>
</ul>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">handleStart</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Start를 누른 시각과 현재 시각을 모두 지금 시각으로 설정</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setStartTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setNow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 이후 10ms마다 now를 현재 시각으로 업데이트</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setNow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<ul>
<li>
<p>이 다음 Stop 버튼을 클릭했을 때 스톱워치를 멈추게 하려면 setInterval로 만든 타이머를 clearInterval로 취소해야한다.</p>
</li>
<li>
<p>clearInterval를 호출하려면 setInterval이 반환하는 interval ID가 필요하고 동시에 저장을 해야한다.</p>
</li>
<li>
<p>interval ID 값은 렌더링에 필요하지않고 오직 handler에서만 필요하기 때문에 여기서 ref가 필요하다.</p>
</li>
</ul>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> useRef </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> useState </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> intervalRef </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// setInterval이 반환한 interval ID를 저장</span><br></span></code></pre></div></div>
<p>이후 handler를 아래와 같이 수정할 수 있다.</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">handleStart</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setStartTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setNow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 기존 interval이 있다면 먼저 정리</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">clearInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">intervalRef</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 새 interval을 만들고, 반환된 ID를 ref에 저장</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  intervalRef</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setNow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">handleStop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ref에 저장해 둔 ID로 interval 정지</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">clearInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">intervalRef</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="state와-ref의-차이점">state와 ref의 차이점<a href="#state와-ref의-차이점" class="hash-link" aria-label="state와 ref의 차이점에 대한 직접 링크" title="state와 ref의 차이점에 대한 직접 링크">​</a></h2>
<table><thead><tr><th>구분</th><th>ref</th><th>state</th></tr></thead><tbody><tr><td>선언</td><td><code>useRef(initialValue)</code>는 <code>{ current: initialValue }</code> 형태의 객체를 반환한다.</td><td><code>useState(initialValue)</code>는 현재 값과 setter 함수인 [value, setValue]를 반환한다.</td></tr><tr><td>값 변경 시 리렌더링</td><td>current를 바꿔도 리렌더링이 일어나지 않는다.</td><td>값을 업데이트하면 컴포넌트가 리렌더링된다.</td></tr><tr><td>가변성</td><td>가변(mutable)이라 렌더링 과정 밖에서 current 값을 마음대로 읽고 쓸 수 있다.</td><td>불변(immutable) 취급이라 반드시 setter 함수를 통해서만 변경을 요청한다.</td></tr><tr><td>읽기 시점</td><td>렌더링 중에는 ref.current를 읽거나 쓰지 않는 것이 권장된다.</td><td>언제든 읽을 수 있지만, 각 렌더는 그 시점의 state 스냅샷을 보는 식으로 동작한다.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="useref의-내부동작-방식">useRef의 내부동작 방식<a href="#useref의-내부동작-방식" class="hash-link" aria-label="useRef의 내부동작 방식에 대한 직접 링크" title="useRef의 내부동작 방식에 대한 직접 링크">​</a></h2>
<ul>
<li>React 내부에서 useRef는 아래와 같이 구현되어 있다고 생각할 수 있다.</li>
</ul>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">initialValue</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">ref</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> unused</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">current</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> initialValue </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ref</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<ul>
<li>
<p>첫 렌더 때 <strong><code>{ current: initialValue }</code></strong> 객체를 한 번 만들고, state에 저장한 뒤 이후 렌더에서도 동일한 객체를 그대로 반환한다.</p>
</li>
<li>
<p>state 업데이트 함수는 사용하지 않고, 컴포넌트 쪽에서 <strong>ref.current = ...</strong> 처럼 직접 필드를 바꿔 리렌더링 없이 값만 바뀌는 저장소 역할을 한다.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="언제-refs를-사용해야할까">언제 refs를 사용해야할까?<a href="#언제-refs를-사용해야할까" class="hash-link" aria-label="언제 refs를 사용해야할까?에 대한 직접 링크" title="언제 refs를 사용해야할까?에 대한 직접 링크">​</a></h2>
<ul>
<li>값을 저장해야할 때, 그 값이 바뀌어도 렌더링 로직이나 화면에 영향을 주지 않을때 ref를 사용한다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="refs를-잘-사용하는-방법">refs를 잘 사용하는 방법<a href="#refs를-잘-사용하는-방법" class="hash-link" aria-label="refs를 잘 사용하는 방법에 대한 직접 링크" title="refs를 잘 사용하는 방법에 대한 직접 링크">​</a></h2>
<ul>
<li>
<p>ref는 escape hatch처럼 사용해야한다.</p>
<ul>
<li>외부 시스템이나 브라우저 API(DOM, 타이머 등)와 상호작용할 때만 최소한으로 ref를 쓰고, 애플리케이션의 주요 로직과 데이터 흐름은 state/props에 두는 것이 좋다.</li>
</ul>
</li>
<li>
<p>렌더링 중에는 ref.current를 읽거나 쓰지 않는다.</p>
<ul>
<li>렌더링에 필요한 정보라면 ref가 아니라 state를 사용해야 한다. ref.current가 언제 바뀌는지 React는 모르기 때문에, 렌더 과정에서 이 값에 의존하면 컴포넌트 동작을 예측하기 어려워진다.</li>
</ul>
</li>
<li>
<p>state에 적용되는 제약은 ref에는 없다.</p>
<ul>
<li>state는 렌더마다 스냅샷처럼 동작하고, 업데이트도 비동기 큐에 쌓이지만, ref는 그냥 JS 객체라 ref.current = 5; console.log(ref.current); 하면 즉시 5가 찍힌다. 또한 ref는 “불변성 유지”를 신경 쓸 필요가 없다. 단, 그 객체가 렌더링(화면) 계산에 사용되지 않을 때에만 마음대로 mutate해도 된다.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ref와-dom">ref와 DOM<a href="#ref와-dom" class="hash-link" aria-label="ref와 DOM에 대한 직접 링크" title="ref와 DOM에 대한 직접 링크">​</a></h2>
<ul>
<li>
<p>ref는 어떤 값이든 가리킬 수 있지만, 가장 흔한 사용처는 <strong>DOM 요소</strong> 를 가리키는 것이다.</p>
</li>
<li>
<p>JSX에서 <code>&lt;div ref={myRef}&gt;</code> 처럼 <strong>ref</strong> 속성에 ref를 넘기면, React가 해당 DOM 요소를 찾아서 <strong>myRef.current</strong> 에 넣어 준다.</p>
</li>
<li>
<p>나중에 그 요소가 DOM에서 제거되면, React가 myRef.current를 자동으로 null로 바꿔 준다.</p>
</li>
</ul>
<br>
<a href="https://react.dev/learn/manipulating-the-dom-with-refs"><h1>Manipulating the DOM with Refs</h1></a>
<ul>
<li>
<p>React는 렌더링 결과물에 맞춰 <strong>DOM 변경을 자동</strong>으로 하기 때문에 컴포넌트에서 DOM을 조작할 필요가 많이 없다.</p>
</li>
<li>
<p>하지만 <strong>특정 노드에 포커스를 옮기거나</strong>, <strong>스크롤 위치를 옮기거나</strong>, <strong>위치와 크기를 측정</strong> 하기 위해 React가 관리하는 <strong>DOM</strong> 요소에 접근해야 할 때가 있다.</p>
</li>
<li>
<p>이러한 <strong>DOM</strong> 에 접근하기 위해 필요한 방법이 이전 챕터에서 배운 <strong>Ref</strong> 이다.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ref로-node-가져오기">Ref로 Node 가져오기<a href="#ref로-node-가져오기" class="hash-link" aria-label="Ref로 Node 가져오기에 대한 직접 링크" title="Ref로 Node 가져오기에 대한 직접 링크">​</a></h2>
<ul>
<li>아래와 같이 useRef로 ref 객체를 만들고 컴포넌트의 ref 속성에 연결하면, 해당 DOM Node가 렌더 후 ref.currnet에 들어가서 브라우저 API 등을 직접 호출할 수 있다.</li>
</ul>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> useRef </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> myRef </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div ref</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">myRef</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">...</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &lt;div&gt;의 DOM Node를 myRef.current에 넣어달라는 의미</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">myRef</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">scrollIntoView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 브라우저 API를 직접 호출할 수 있다</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ref-callback으로-ref-list-관리하기">Ref Callback으로 Ref list 관리하기<a href="#ref-callback으로-ref-list-관리하기" class="hash-link" aria-label="Ref Callback으로 Ref list 관리하기에 대한 직접 링크" title="Ref Callback으로 Ref list 관리하기에 대한 직접 링크">​</a></h2>
<ul>
<li><strong>Hook 규칙</strong>으로 useRef는 map안에서 사용하지 못하는데, 이러한 <strong>동적으로 변하는 리스트의 DOM들을</strong> 한 번에 관리하기 위해서 <br> <strong>ref callback + Map</strong> 을 사용한다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="다른-컴포넌트의-dom-nodes-접근하는-방법">다른 컴포넌트의 DOM nodes 접근하는 방법<a href="#다른-컴포넌트의-dom-nodes-접근하는-방법" class="hash-link" aria-label="다른 컴포넌트의 DOM nodes 접근하는 방법에 대한 직접 링크" title="다른 컴포넌트의 DOM nodes 접근하는 방법에 대한 직접 링크">​</a></h2>
<ul>
<li>
<p>커스텀 컴포넌트에 ref를 직접 달아도 곧바로 DOM을 가리키지 않고, 기본적으로 <strong>null</strong>이거나 <strong>컴포넌트 인스턴스</strong>를 가리킨다.</p>
</li>
<li>
<p><strong>부모에서 만든 ref</strong>를 <strong>자식에게 props</strong>처럼 내려보낸 뒤, 자식에서 그 <strong>ref를 실제 내장 컴포넌트</strong>(<code>&lt;input&gt;, &lt;div&gt;</code> 등)의 ref에 다시 전달해야 최종적으로 부모의 ref.current가 해당 DOM 노드를 가리키게 된다.​</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="when-react-attaches-the-refs">When React attaches the refs<a href="#when-react-attaches-the-refs" class="hash-link" aria-label="When React attaches the refs에 대한 직접 링크" title="When React attaches the refs에 대한 직접 링크">​</a></h2>
<ul>
<li>
<p>React의 업데이트 과정은 총 2단계이다.</p>
<ul>
<li>Render : 컴포넌트를 호출하여 화면에 무엇을 나타낼지 계산한다.</li>
<li>Commit : 변경사항을 DOM에 적용한다.</li>
</ul>
</li>
<li>
<p>Render 단계에서는 DOM이 아직 없거나 업데이트 전이라 ref.current가 null이거나 오래된 값일 수 있으므로, 이 시점에는 ref를 읽지 않는 것이 좋다.</p>
</li>
<li>
<p>Commit 단계에서 React는 DOM을 바꾸기 직전에 관련된 ref.current들을 null로 초기화한 뒤 DOM을 실제로 변경하고, 곧바로 새 DOM 노드들로 각 ref.current를 다시 채운다.</p>
</li>
<li>
<p>그래서 ref를 이용한 DOM 접근·조작은 보통 클릭 같은 이벤트 핸들러나, 특정 이벤트 없이 커밋 이후에 실행되는 Effect 안에서 수행해야 안전하다.​</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="flushing-state-updates-synchronously-with-flushsync">Flushing state updates synchronously with flushSync<a href="#flushing-state-updates-synchronously-with-flushsync" class="hash-link" aria-label="Flushing state updates synchronously with flushSync에 대한 직접 링크" title="Flushing state updates synchronously with flushSync에 대한 직접 링크">​</a></h2>
<ul>
<li><strong>flushSync</strong>는 특정 state 업데이트를 바로 DOM까지 반영한 뒤, 그 다음 코드를 실행하고 싶을 때 그 업데이트만 동기적으로 <strong>flush</strong> 해 주는 함수다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices-for-dom-manipulation-with-refs">Best practices for DOM manipulation with refs<a href="#best-practices-for-dom-manipulation-with-refs" class="hash-link" aria-label="Best practices for DOM manipulation with refs에 대한 직접 링크" title="Best practices for DOM manipulation with refs에 대한 직접 링크">​</a></h2>
<ul>
<li>
<p>focus, scroll 등 브라우저 API 호출처럼 렌더링에 영향이 없는 것은 Ref로 한다.</p>
</li>
<li>
<p>node를 제거하거나, child를 추가, 삭제하는 등 렌더링에 영향을 주는 것은 컴포넌트 + state로 하는 것이 좋다.</p>
</li>
</ul>
<br>
<a href="https://react.dev/learn/synchronizing-with-effects"><h1>Synchronizing with Effects</h1></a>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-effects-and-how-are-they-different-from-events">What are Effects and how are they different from events?<a href="#what-are-effects-and-how-are-they-different-from-events" class="hash-link" aria-label="What are Effects and how are they different from events?에 대한 직접 링크" title="What are Effects and how are they different from events?에 대한 직접 링크">​</a></h2>
<ul>
<li>렌더링 이후 <strong>React</strong>가 <strong>DOM 업데이트</strong>를 끝낸 후 실행되는 코드를 <strong>Effect</strong>라고 한다.</li>
<li><strong>Rendering code</strong>는 <strong>순수 함수</strong>처럼 DOM과 무관하게 계산만 수행해야 한다.</li>
<li><strong>Event handler</strong>는 <strong>사용자의 명시적 인터랙션 ( 클릭, 입력 등 )</strong> 으로 발생하지만, <strong>Effect</strong>는 렌더링 결과에 의해 자동으로 발생하는 <strong>side effect</strong>이다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="you-might-not-need-an-effect">You might not need an Effect<a href="#you-might-not-need-an-effect" class="hash-link" aria-label="You might not need an Effect에 대한 직접 링크" title="You might not need an Effect에 대한 직접 링크">​</a></h2>
<ul>
<li>Effect는 렌더링 결과를 외부 시스템( 브라우저 API, 서드 파티 위젯, 네트워크 )과 동기화할 필요가 있을 때만 필요</li>
<li>Effect가 단순히 다른 상태에 기반하여 일부 상태를 조정하는 경우에는 Effect가 필요하지 않을 수 있다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-write-an-effect">How to write an Effect<a href="#how-to-write-an-effect" class="hash-link" aria-label="How to write an Effect에 대한 직접 링크" title="How to write an Effect에 대한 직접 링크">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1--declare-an-effect">Step 1 : Declare an Effect<a href="#step-1--declare-an-effect" class="hash-link" aria-label="Step 1 : Declare an Effect에 대한 직접 링크" title="Step 1 : Declare an Effect에 대한 직접 링크">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> useEffect </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">MyComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 렌더링 이후 실행할 코드</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<ul>
<li>기본적으로 모든 렌더링 이후에 실행된다. (의존성 배열이 없을 경우)</li>
<li>DOM/외부 API 접근같은 side effect를 작성할 때 사용한다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2--specify-the-effect-dependencies">Step 2 : Specify the Effect dependencies<a href="#step-2--specify-the-effect-dependencies" class="hash-link" aria-label="Step 2 : Specify the Effect dependencies에 대한 직접 링크" title="Step 2 : Specify the Effect dependencies에 대한 직접 링크">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// effect body</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">dep1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dep2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<table><thead><tr><th>의존성 배열</th><th>실행 시점</th></tr></thead><tbody><tr><td>없음</td><td>모든 렌더링 후 실행</td></tr><tr><td><code>[]</code> (빈 배열)</td><td>마운트 시 1회 실행</td></tr><tr><td><code>[dep1, dep2]</code></td><td>dep가 변경될 때만 실행</td></tr></tbody></table>
<ul>
<li>의존성 배열을 통해 불필요한 실행을 막을 수 있다.</li>
<li>의존성 누락은 lint 오류가 발생하고, React가 해당 오류에 대한 수정사항을 자동으로 제안한다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3--add-cleanup-if-needed">Step 3 : Add cleanup if needed<a href="#step-3--add-cleanup-if-needed" class="hash-link" aria-label="Step 3 : Add cleanup if needed에 대한 직접 링크" title="Step 3 : Add cleanup if needed에 대한 직접 링크">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> conn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createConnection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    conn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">disconnect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ul>
<li>
<p><strong>Subscription, Connection, Timer</strong> 같은 경우는 <strong>cleanup</strong>과 같은 <strong>정리코드</strong>가 필요하다.</p>
</li>
<li>
<p><strong>cleanup</strong> 같은 경우 Effect가 다시 실행되기 전 또는 컴포넌트 언마운트시에 실행된다.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-handle-the-effect-firing-twice-in-development">How to handle the Effect firing twice in development?<a href="#how-to-handle-the-effect-firing-twice-in-development" class="hash-link" aria-label="How to handle the Effect firing twice in development?에 대한 직접 링크" title="How to handle the Effect firing twice in development?에 대한 직접 링크">​</a></h2>
<ul>
<li>
<p>React는 <strong>Strict Mode가 활성화된 개발 환경에서</strong>, effect 관련 버그를 조기에 발견하기 위해
컴포넌트를 <strong>의도적으로 다시 마운트</strong>하며, 그 결과 Effect가 두 번 실행되는 것처럼 보인다.</p>
</li>
<li>
<p>이러한 경우의 일반적인 해결책은 <strong>cleanup 함수를 구현하는 것</strong>이다.</p>
</li>
<li>
<p>Effect가 두 번 실행되는 것을 막기 위해 useRef로 실행을 제한하는 것은 <strong>버그를 숨길 뿐 해결하지 못하므로 피해야 한다.</strong></p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="controlling-non-react-widgets">Controlling non-React widgets<a href="#controlling-non-react-widgets" class="hash-link" aria-label="Controlling non-React widgets에 대한 직접 링크" title="Controlling non-React widgets에 대한 직접 링크">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> map </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mapRef</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  map</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setZoomLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">zoomLevel</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">zoomLevel</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ul>
<li>
<p>React로 작성되지 않은 외부 UI 위젯(지도, 차트 등)을 제어할 때도 Effect를 사용한다.</p>
</li>
<li>
<p>동일한 값을 여러 번 설정해도 문제가 없는 API라면 cleanup이 필요 없다.</p>
<ul>
<li>개발 모드에서 Effect가 두 번 실행되어도 setZoomLevel을 두 번 호출하는 것은 안전하다.</li>
</ul>
</li>
<li>
<p>반대로, 연속 호출을 허용하지 않는 API라면 cleanup이 필요하다.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="subscribing-to-events">Subscribing to events<a href="#subscribing-to-events" class="hash-link" aria-label="Subscribing to events에 대한 직접 링크" title="Subscribing to events에 대한 직접 링크">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">handleScroll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">scrollX</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">scrollY</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">addEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;scroll&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> handleScroll</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">removeEventListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;scroll&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> handleScroll</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ul>
<li>Effect가 어떤 것을 subscription 한다면, cleanup 함수에서 반드시 unsubscribe 해야 한다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="triggering-animations">Triggering animations<a href="#triggering-animations" class="hash-link" aria-label="Triggering animations에 대한 직접 링크" title="Triggering animations에 대한 직접 링크">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> node </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ref</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  node</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">opacity </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    node</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">opacity </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ul>
<li>Effect가 요소의 애니메이션을 트리거한다면, cleanup 함수에서 초기 상태로 되돌려야 한다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fetching-data">Fetching data<a href="#fetching-data" class="hash-link" aria-label="Fetching data에 대한 직접 링크" title="Fetching data에 대한 직접 링크">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> ignore </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">startFetching</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> json </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetchTodos</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">ignore</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">setTodos</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">startFetching</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ignore </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">userId</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ul>
<li>
<p>Effect가 데이터를 가져온다면, cleanup에서는 fetch를 중단(abort) 하거나 결과를 무시(ignore) 해야 한다.</p>
</li>
<li>
<p>이미 시작된 네트워크 요청은 취소할 수 없지만, 더 이상 관련 없는 응답이 state를 변경하지 않도록 보장해야 한다.</p>
</li>
<li>
<p>개발 모드에서는 네트워크 요청이 두 번 보일 수 있으나, cleanup 덕분에 첫 번째 요청 결과는 무시된다.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sending-analytics">Sending analytics<a href="#sending-analytics" class="hash-link" aria-label="Sending analytics에 대한 직접 링크" title="Sending analytics에 대한 직접 링크">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">logVisit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ul>
<li>
<p>개발 환경에서는 분석 이벤트가 두 번 전송될 수 있다.</p>
</li>
<li>
<p>이는 문제가 아니며, 개발 환경에서는 로그가 실제 지표에 영향을 주지 않아야 한다.</p>
</li>
<li>
<p>빌드 환경에서는 중복 로그가 발생하지 않는다.</p>
</li>
<li>
<p>분석 디버깅이 필요하다면</p>
<ul>
<li>
<p>빌드 모드에서 실행하거나</p>
</li>
<li>
<p>Strict Mode를 일시적으로 끌 수 있다.</p>
</li>
</ul>
</li>
<li>
<p>또는 Effect 대신 라우트 변경 이벤트에서 분석을 보낼 수도 있다.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="not-an-effect-initializing-the-application">Not an Effect: Initializing the application<a href="#not-an-effect-initializing-the-application" class="hash-link" aria-label="Not an Effect: Initializing the application에 대한 직접 링크" title="Not an Effect: Initializing the application에 대한 직접 링크">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> window </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;undefined&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">checkAuthToken</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">loadDataFromLocalStorage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<ul>
<li>
<p>애플리케이션 시작 시 단 한 번만 실행되어야 하는 로직은 Effect에 넣지 않는다.</p>
</li>
<li>
<p>컴포넌트 외부에 두면, 브라우저 로드 시 한 번만 실행됨이 보장된다.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="not-an-effect-buying-a-product">Not an Effect: Buying a product<a href="#not-an-effect-buying-a-product" class="hash-link" aria-label="Not an Effect: Buying a product에 대한 직접 링크" title="Not an Effect: Buying a product에 대한 직접 링크">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 잘못된 예</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/api/buy&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">method</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;POST&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<ul>
<li>
<p>제품 구매처럼 사용자 행동에 의해 발생해야 하는 로직은 Effect에 두면 안 된다.</p>
</li>
<li>
<p>Effect는 재마운트 시 다시 실행되므로, 사용자가 의도하지 않게 중복 구매가 발생할 수 있다.</p>
</li>
<li>
<p>이런 로직은 아래와 같이 이벤트 핸들러로 옮겨야 한다.</p>
</li>
</ul>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">handleClick</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/api/buy&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">method</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;POST&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/junye0l/my-blog/tree/main/blog/react-study/2025-12-16-react-study-week7-1.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>페이지 편집</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="블로그 게시물 탐색"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/minimum-multiplication-sum"><div class="pagination-nav__sublabel">이전 게시물</div><div class="pagination-nav__label">[프로그래머스] 최솟값 만들기</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/react-study-week6-2"><div class="pagination-nav__sublabel">다음 게시물</div><div class="pagination-nav__label">리액트 공식문서 스터디 6주차 - 2</div></a></nav><div></div></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ref-사용방법" class="table-of-contents__link toc-highlight">Ref 사용방법</a></li><li><a href="#refcurrent-특징" class="table-of-contents__link toc-highlight">ref.current 특징</a></li><li><a href="#예시코드를-통한-state와-ref-사용방식" class="table-of-contents__link toc-highlight">예시코드를 통한 state와 ref 사용방식</a></li><li><a href="#state와-ref의-차이점" class="table-of-contents__link toc-highlight">state와 ref의 차이점</a></li><li><a href="#useref의-내부동작-방식" class="table-of-contents__link toc-highlight">useRef의 내부동작 방식</a></li><li><a href="#언제-refs를-사용해야할까" class="table-of-contents__link toc-highlight">언제 refs를 사용해야할까?</a></li><li><a href="#refs를-잘-사용하는-방법" class="table-of-contents__link toc-highlight">refs를 잘 사용하는 방법</a></li><li><a href="#ref와-dom" class="table-of-contents__link toc-highlight">ref와 DOM</a></li><li><a href="#ref로-node-가져오기" class="table-of-contents__link toc-highlight">Ref로 Node 가져오기</a></li><li><a href="#ref-callback으로-ref-list-관리하기" class="table-of-contents__link toc-highlight">Ref Callback으로 Ref list 관리하기</a></li><li><a href="#다른-컴포넌트의-dom-nodes-접근하는-방법" class="table-of-contents__link toc-highlight">다른 컴포넌트의 DOM nodes 접근하는 방법</a></li><li><a href="#when-react-attaches-the-refs" class="table-of-contents__link toc-highlight">When React attaches the refs</a></li><li><a href="#flushing-state-updates-synchronously-with-flushsync" class="table-of-contents__link toc-highlight">Flushing state updates synchronously with flushSync</a></li><li><a href="#best-practices-for-dom-manipulation-with-refs" class="table-of-contents__link toc-highlight">Best practices for DOM manipulation with refs</a></li><li><a href="#what-are-effects-and-how-are-they-different-from-events" class="table-of-contents__link toc-highlight">What are Effects and how are they different from events?</a></li><li><a href="#you-might-not-need-an-effect" class="table-of-contents__link toc-highlight">You might not need an Effect</a></li><li><a href="#how-to-write-an-effect" class="table-of-contents__link toc-highlight">How to write an Effect</a><ul><li><a href="#step-1--declare-an-effect" class="table-of-contents__link toc-highlight">Step 1 : Declare an Effect</a></li><li><a href="#step-2--specify-the-effect-dependencies" class="table-of-contents__link toc-highlight">Step 2 : Specify the Effect dependencies</a></li><li><a href="#step-3--add-cleanup-if-needed" class="table-of-contents__link toc-highlight">Step 3 : Add cleanup if needed</a></li></ul></li><li><a href="#how-to-handle-the-effect-firing-twice-in-development" class="table-of-contents__link toc-highlight">How to handle the Effect firing twice in development?</a><ul><li><a href="#controlling-non-react-widgets" class="table-of-contents__link toc-highlight">Controlling non-React widgets</a></li><li><a href="#subscribing-to-events" class="table-of-contents__link toc-highlight">Subscribing to events</a></li><li><a href="#triggering-animations" class="table-of-contents__link toc-highlight">Triggering animations</a></li><li><a href="#fetching-data" class="table-of-contents__link toc-highlight">Fetching data</a></li><li><a href="#sending-analytics" class="table-of-contents__link toc-highlight">Sending analytics</a></li><li><a href="#not-an-effect-initializing-the-application" class="table-of-contents__link toc-highlight">Not an Effect: Initializing the application</a></li><li><a href="#not-an-effect-buying-a-product" class="table-of-contents__link toc-highlight">Not an Effect: Buying a product</a></li></ul></li></ul></div></div></div></div></div></div>
</body>
</html>